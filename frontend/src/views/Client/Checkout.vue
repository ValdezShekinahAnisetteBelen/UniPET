<template>
  <head>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name='robots' content='max-image-preview:large' />
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
  <link rel="alternate" type="application/rss+xml" title="Buddy &raquo; Feed" href="feed/index.html" />
  <link rel="alternate" type="application/rss+xml" title="Buddy &raquo; Comments Feed" href="comments/feed/index.html" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  
  <link rel='stylesheet' id='pawsitive-fonts-css' href='https://fonts.googleapis.com/css?family=Nunito+Sans%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900%2C100italic%2C200italic%2C300italic%2C400italic%2C500italic%2C600italic%2C700italic%2C800italic%2C900italic%7CNunito%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900%2C100italic%2C200italic%2C300italic%2C400italic%2C500italic%2C600italic%2C700italic%2C800italic%2C900italic%7CNunito+Sans%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900%2C100italic%2C200italic%2C300italic%2C400italic%2C500italic%2C600italic%2C700italic%2C800italic%2C900italic%7CNunito+Sans%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900%2C100italic%2C200italic%2C300italic%2C400italic%2C500italic%2C600italic%2C700italic%2C800italic%2C900italic%7CNunito+Sans%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900%2C100italic%2C200italic%2C300italic%2C400italic%2C500italic%2C600italic%2C700italic%2C800italic%2C900italic%7CNunito%3A100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900%2C100italic%2C200italic%2C300italic%2C400italic%2C500italic%2C600italic%2C700italic%2C800italic%2C900italic&#038;subset=latin%2Clatin-ext&#038;ver=1.0.0' type='text/css' media='all' />
  
  <link rel="https://api.w.org/" href="wp-json/index.html" />
  <link rel="alternate" type="application/json" href="../../../../frontend/public/User/wp-json/wp/v2/pages/2767.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc0db0.php?rsd" />
  <meta name="generator" content="WordPress 6.3.2" />
  <meta name="generator" content="WooCommerce 8.2.0" />
  <link rel="canonical" href="index.html" />
  <link rel='shortlink' href='index.html' />
  <link rel="alternate" type="application/json+oembed" href="../../../../frontend/public/User/wp-json/oembed/1.0/embed0ee1.json" />
  <link rel="alternate" type="text/xml+oembed" href="../../../../frontend/public/User/wp-json/oembed/1.0/embed858d" />
   
  <link rel="icon" href="../../../../frontend/public/User/wp-content/uploads/sites/2/2019/07/cropped-favicon-1-32x32.png" sizes="32x32" />
  <link rel="icon" href="../../../../frontend/public/User/wp-content/uploads/sites/2/2019/07/cropped-favicon-1-192x192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="../../../../frontend/public/User/wp-content/uploads/sites/2/2019/07/cropped-favicon-1-180x180.png" />
  <meta name="msapplication-TileImage" content="https://pawsitive.bold-themes.com/buddy/wp-content/uploads/sites/2/2019/07/cropped-favicon-1-270x270.png"/>
  </head>
  <body class="home page-template-default page page-id-2767 page-parent theme-pawsitive bt_bb_plugin_active bt_bb_fe_preview_toggle woocommerce-js btHeadingWeight_default btMenuWeight_default btCurrentPage_default btButtonWeight_default btMenuRightEnabled btStickyEnabled btHideHeadline btLightSkin btBelowMenu btNoDashInSidebar noBodyPreloader btDropButtons btTransparentDarkHeader btNoSidebar btMenuRight btMenuInitFinished btRemovePreloader btMenuHorizontal">
  
  <div class="btPageWrap" id="top">
    
      <div class="btVerticalHeaderTop">
          <div class="btVerticalMenuTrigger">&nbsp;<div class="bt_bb_icon" data-bt-override-class="null"><a href="#" target="_self" data-ico-fa="" class="bt_bb_icon_holder"></a></div></div>
        
      <div class="btLogoArea">
        <div class="logo">
          <span>
            <a href="index.html"><img class="btMainLogo" data-hw="2.1111111111111" src="../../../../frontend/public/User/wp-content/uploads/sites/2/2019/11/logo_black.svg" alt=""></a></span>
        </div><!-- /logo -->
      </div><!-- /btLogoArea -->
    </div>
  <header class="mainHeader btClear gutter ">
      <div class="mainHeaderInner">
              <div class="btLogoArea menuHolder btClear">
          <div class="port">
                        <div class="btHorizontalMenuTrigger">&nbsp;<div class="bt_bb_icon" data-bt-override-class="null"><a href="#" target="_self" data-ico-fa="" class="bt_bb_icon_holder"></a></div></div>
                      <div class="logo">
              <span>
                <a href="index.html"><img class="btMainLogo" data-hw="2.1111111111111" src="User/wp-content/uploads/sites/2/2019/11/logo_black.svg" alt="Buddy"></a></span>
            </div>
                      <div class="menuPort">
                        <div class="topBarInMenu">
              <div class="topBarInMenuCell">
                <div class="btButtonWidget btOutline btWithLink"><a href="#" target="_self" class="btButtonWidgetLink"><div class="btIconWidgetIcon"><span data-ico-fontawesome="" class="bt_bb_icon_holder"></span></div><div class="btIconWidgetText">
                  <span class="btButtonWidgetText">+63 998 868 3908</span>
                </div>
              </a>
              </div>            
              </div>
            </div>
  
            <nav>
      <ul id="menu-primary-menu" class="menu">
          <li id="menu-item-1685" class="btMenuWideDropdown menu-item menu-item-type-post_type menu-item-object-page menu-item-home current-menu-item page_item page-item-2767 current_page_item current-menu-ancestor current-menu-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-1685 btMenuWideDropdownCols-3">
              <div class="subToggler"></div>
              <a href="/" aria-current="page">Home</a>
          </li>

          <li id="menu-item-41" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-41">
    <div class="subToggler"><span class="dropdown-icon">▼</span></div>
    <a href="/shop">Shop</a>
    <ul class="sub-menu">
        <li id="menu-item-45" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-42">
            <a href="/OrderHistory">My Purchases</a>
        </li>
    </ul>
  </li>

       <li id="menu-item-42" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-41">
    <div class="subToggler"><span class="dropdown-icon">▼</span></div>
    <a href="/PetInfo">Appointment</a>
    <ul class="sub-menu">
        <li id="menu-item-43" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-42">
            <a href="/AppointmentHistory">Appointment History</a>
        </li>
    </ul>
  </li>
  
          <li id="menu-item-40" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-40">
              <div class="subToggler"></div>
              <a href="/Contact">Contact Us</a>
          </li>
          
          <li id="menu-item-42" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-41">
    <div class="subToggler"><span class="dropdown-icon">▼</span></div>
    <a href="/UserProfile">Profile</a>
    <ul class="sub-menu">
        <li id="menu-item-44" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-42">
          <a href="#" @click.prevent="logout" class="logout-link">Logout</a>
        </li>
    </ul>
  </li>
      </ul>
  </nav>
  
            </div>
          </div>
        </div>
      </div>
      </header>  
           <!-- Add a div to display the animal picture -->
         
  <!-- Close the .about-us div here -->
 <!-- Close the .about-us div here -->

 <section v-if="!isSlide2Visible" id="slide1">
  <div class="page-content" style="background-image: url('images/wizard-v1.jpg')">
      <div class="wizard-v1-content">
  <div class="wizard-form">
    <form class="form-register" id="form-register" @submit.prevent="save" action="#" method="post" novalidate="novalidate">
          <div id="form-total" role="application" class="wizard clearfix">
            <div class="steps clearfix">
                  <ul role="tablist">
  
                      <li role="tab" class="first current error" aria-disabled="true" aria-selected="true">
                          <a id="form-total-t-0" href="#form-total-h-0" aria-controls="form-total-p-1">
                              <div class="title">
                                  <span class="step-icon"><i class="bi bi-check"></i></span> <!-- Change to Bootstrap receipt icon -->
                                  <span class="step-number">Step 1</span>
                                  <span class="step-text">Delivery Information</span>
                              </div>
                          </a>
                      </li>
                      <li role="tab" class="disabled" aria-disabled="false">
                          <a id="form-total-t-1" href="#form-total-h-1" aria-controls="form-total-p-0">
                              <span class="current-info audible"> </span>
                              <div class="title">
                                  <span class="step-icon"><i class="bi bi-receipt"></i></span> <!-- Change to Bootstrap person icon -->
                                  <span class="step-number">Step 2</span>
                                  <span class="step-text">Place Order</span>
                              </div>
                          </a>
                      </li>
                  </ul>
              </div>
              
              
<div class="content clearfix">

<section id="form-total-p-0" role="tabpanel" aria-labelledby="form-total-h-0" class="body current" aria-hidden="false">
<div class="inner">
  <div class="form-row">
    <div class="form-holder form-holder-2">
      <label for="delivering_to">Delivering to</label>
      <input type="text" v-model="formData.delivering_to" placeholder="Your Name" class="form-control error" id="delivering_to" name="delivering_to" required aria-required="true">
      <label id="delivering_to-error" class="error" for="delivering_to"></label>
    </div>
  </div>
  <div class="form-row">
    <div class="form-holder form-holder-2">
      <label for="address">Address</label>
      <input type="text" v-model="formData.address" placeholder="Your Address" class="form-control error" id="address" name="address"  required aria-required="true">
      <label id="address-error" class="error" for="address"></label>
    </div>
  </div>
  <div class="form-row">
    <div class="form-holder form-holder-2">
      <label for="additional_details">Additional Details</label>
      <input type="text" v-model="formData.additional_details" placeholder="e.g Floor, unit number, street, village/barangay" class="form-control error" id="additional_details" name="additional_details" required="" aria-required="true">
      <label id="additional_details-error" class="error" for="additional_details"></label>
    </div>
  </div>
  <div class="form-row">
    <div class="form-holder">
      <label for="driver_instructions">Driver Instructions</label>
      <input type="text" v-model="formData.driver_instructions" placeholder="Optional*" class="form-control error" id="driver_instructions" name="driver_instructions" required="" aria-required="true">
      <label id="driver_instructions-error" class="error" for="driver_instructions"></label>
    </div>
    <div class="form-holder">
      <label for="mobile_contact_number">Mobile Contact Number</label>
      <input type="tel" v-model="formData.mobile_contact_number" placeholder="Your Mobile Number" class="form-control error" id="MobileNum" name="MobileNum" required="" aria-required="true">
      <label id="MobileNum-error" class="error" for="MobileNum"></label>
    </div>
  </div>
</div>
<div class="inner">
  <div class="form-row form-row-2">
    <div class="form-holder form-holder-2 col-md-6">
<label for="payment_method">payment_method</label>
<input type="text" v-model="formData.payment_method" id="payment_method" name="payment_method">
</div>


    <div class="form-holder form-holder-2 col-md-6">
      <label for="change_for_how_much">Change for how much?</label>
      <input type="number" v-model="formData.change_for_how_much" class="form-control" placeholder="0000.0" step="0.01" min="0" max="10" />
    </div>

   <!-- Update the template section -->
<div class="form-holder">
  <label for="mobile_contact_number"></label>
  <input type="hidden" v-model="grandTotalPrice" class="form-control error" id="total_price" name="total_price" required="" aria-required="true">
  <label id="total_price-error" class="error" for="total_price"></label>
</div>

<!-- Replace the existing code with the updated code -->
<div v-if="checkout.length > 0" class="form-holder form-holder-2">
  <label for="grand-total" class="col-form-label">Grand Total Price:</label>
  <input type="text" id="grand-total" class="form-control" v-model="formData.total_price" readonly>
</div>
  </div>
</div>
</section>

</div>
</div>
<div class="actions clearfix">
        <ul role="menu" aria-label="Pagination">
    <button type="button" class="btn btn-success bi bi-truck" @click="deleteOrder">
      Buy More
</button>


          <li aria-hidden="false" aria-disabled="false">
            <a href="#" role="menuitem" @click="toggleSlideAndSubmit">
              <i class="bi bi-arrow-right"></i> <!-- Use Bootstrap arrow-right icon -->
            </a>
          </li>
          <li aria-hidden="true" style="display: none;">
            <a href="#finish" role="menuitem">
              <i class="bi bi-arrow-right"></i> <!-- Use Bootstrap arrow-right icon -->
            </a>
          </li>
        </ul>
      </div>
    </form>
</div>
</div>
</div>
</section>

<!-----------end of slide 1------------------->
<!-- slide 2-->
 <section v-if="isSlide2Visible" id="slide2">
 <div class="page-content" style="background-image: url('images/wizard-v1.jpg')">
      <div class="wizard-v1-content">
  <div class="wizard-form">
    <form class="form-register" id="form-register" action="#" method="post" novalidate="novalidate">
          <div id="form-total" role="application" class="wizard clearfix">
             
                <div class="steps clearfix">
                  <ul role="tablist">

  
                    <li role="tab" class="disabled" aria-disabled="false">
                        <a id="form-total-t-1" href="#form-total-h-1" aria-controls="form-total-p-0">
                                <span class="current-info audible"> </span>
                              <div class="title">
                                  <span class="step-icon"><i class="bi bi-check"></i></span> <!-- Change to Bootstrap receipt icon -->
                                  <span class="step-number">Step 1</span>
                                  <span class="step-text">Delivery Information</span>
                              </div>
                          </a>
                      </li>
                      <li role="tab" class="first current error" aria-disabled="true" aria-selected="true">
                        <a id="form-total-t-0" href="#form-total-h-0" aria-controls="form-total-p-1">
                              <span class="current-info"> </span>
                              <div class="title">
                                  <span class="step-icon"><i class="bi bi-receipt"></i></span> <!-- Change to Bootstrap person icon -->
                                  <span class="step-number">Step 2</span>
                                  <span class="step-text">Place Order</span>
                              </div>
                          </a>
                      </li>
                  </ul>
              </div>

              <div class="content clearfix">
                <section id="form-total-p-0" role="tabpanel" aria-labelledby="form-total-h-0" class="body current" aria-hidden="false">
  <div class="inner">
      <div class="form-row space-row">
        <h4 v-if="transactions.length > 0" style="color: white;">  
          {{ transactions[0].transaction_no }}
          <!-- Sales Transaction Number: {{ salesTransactionNumber }} -->

        </h4>

          <h1 v-else>No transaction data available</h1>

          <div v-if="transactions.length > 0" class="form-holder form-holder-2">
              <label for="username-val" class="col-form-label">Delivering to</label>
              <input type="text" id="username-val" class="form-control" v-model="transactions[0].delivering_to" readonly>
          </div>

          <div v-if="transactions.length > 0" class="form-holder form-holder-2">
              <label for="email-val" class="col-form-label">Additional Details</label>
              <input type="text" id="email-val" class="form-control" v-model="transactions[0].additional_details" readonly>
          </div>

          <div v-if="transactions.length > 0" class="form-holder form-holder-2">
              <label for="card-type-val" class="col-form-label">Driver Instructions</label>
              <input type="text" id="card-type-val" class="form-control" v-model="transactions[0].driver_instructions" readonly>
          </div>

          <div v-if="transactions.length > 0" class="form-holder form-holder-2">
              <label for="card-number-val" class="col-form-label">Mobile Contact Number:</label>
              <input type="text" id="card-number-val" class="form-control" v-model="transactions[0].mobile_contact_number" readonly>
          </div>

          <div v-if="transactions.length > 0" class="form-holder form-holder-2">
              <label for="cvc-val" class="col-form-label">Change for how much:</label>
              <input type="text" id="cvc-val" class="form-control" v-model="transactions[0].change_for_how_much" readonly>
          </div>

          <div v-if="transactions.length > 0" class="form-holder form-holder-2">
              <label for="cvc-val" class="col-form-label">Payment Method:</label>
              <input type="text" id="cvc-val" class="form-control" v-model="transactions[0].payment_method" readonly>
          </div>

          <div v-if="checkout.length > 0" class="form-holder form-holder-2">
        <label for="month-val" class="col-form-label">Sub Total Price:</label>
        <input type="text" id="month-val" class="form-control" v-model="checkout[0].total_price" readonly>
      </div>

       <!-- Grand Total Price -->
    <div v-if="checkout.length > 0" class="form-holder form-holder-2">
      <label for="grand-total" class="col-form-label">Grand Total Price:</label>
      <input type="text" id="grand-total" class="form-control" v-model="transactions[0].total_price" readonly>
    </div>


      <div v-if="checkout.length > 0">
        <!-- Iterate over each product in checkout -->
        <div v-for="(product, index) in checkout" :key="index" class="form-holder form-holder-2" style="display: flex; flex-wrap: wrap;">
          <!-- Display product details -->
          <div style="flex: 0 0 calc(33.33% - 10px); margin-right: 10px; margin-bottom: 10px;">
            <label for="month-val" class="col-form-label">Item {{ index + 1 }}:</label>
            <input type="text" id="month-val" class="form-control" v-model="product.name" readonly>
          </div>

          <div style="flex: 0 0 calc(33.33% - 10px); margin-right: 10px; margin-bottom: 10px;">
            <label for="quantity-val" class="col-form-label">Quantity:</label>
            <input type="number" id="quantity-val" class="form-control" v-model="product.quantity" readonly>
          </div>

          <div style="flex: 0 0 calc(33.33% - 10px); margin-right: 0; margin-bottom: 10px;">
            <label for="unit-price-val" class="col-form-label">Unit Price:</label>
            <input type="number" id="unit-price-val" class="form-control" v-model="product.unit_price" readonly>
          </div>

          <input type="number" id="unit-price-val" class="form-control" v-model="product.total_price" v-show="false">


          <div style="flex: 0 0 calc(33.33% - 10px); margin-right: 0; margin-bottom: 10px;">
            <label for="unit-price-val" class="col-form-label">Image:</label>
            <input type="text" id="unit-price-val" class="form-control" v-model="product.image" readonly>
          </div>

          <div style="flex: 0 0 calc(33.33% - 10px); margin-right: 0; margin-bottom: 10px;">
            <label for="unit-price-val" class="col-form-label">Product Group:</label>
            <input type="text" id="unit-price-val" class="form-control" v-model="product.productgroup" readonly>
          </div>

          <div style="flex: 0 0 calc(33.33% - 10px); margin-right: 0; margin-bottom: 10px;">
            <label for="unit-price-val" class="col-form-label">Product ID:</label>
            <input type="number" id="unit-price-val" class="form-control" v-model="product.product_id" readonly>
          </div>

          <div style="flex: 0 0 calc(33.33% - 10px); margin-right: 0; margin-bottom: 10px;">
            <label for="unit-price-val" class="col-form-label">Customer ID:</label>
            <input type="number" id="unit-price-val" class="form-control" v-model="product.customer_id" readonly>
          </div>


        </div>
      </div>


<!-- Add additional form holders for other transaction details as needed -->
      </div>
  </div>
</section>

</div>

<div class="actions clearfix">
  <ul role="menu" aria-label="Pagination">
    <button type="button" class="btn btn-danger bi bi-x-circle" @click="cancelOrder">
      Cancel Order
</button>
<button type="button" class="btn btn-success bi bi-truck" @click="submitOrder">
    Place Order
</button>

  </ul>
</div>

</div>
</form>
</div>
</div>
</div>
</section>
<!--------------end of slide 2------------------->
<!--------------end of slide 2------------------->
  
  <div class="btSiteFooter">
  
  <div class="bt_bb_wrapper"><section id="bt_bb_section653e328393367" class="bt_bb_section bt_bb_layout_boxed_1200 bt_bb_vertical_align_top bt_bb_top_spacing_large bt_bb_bottom_spacing_normal" data-bt-override-class="null"><div class="bt_bb_port">
      
    <div class="bt_bb_cell"><div class="bt_bb_cell_inner"><div class="bt_bb_row_wrapper"><div class="bt_bb_row" data-bt-override-class="{}" data-structure="3-3-3-3"><div class="bt_bb_column col-xxl-3 col-xl-3 bt_bb_vertical_align_top bt_bb_align_left bt_bb_padding_normal bt_bb_animation_fade_in animate bt_bb_shape_inherit animated" data-width="3" data-bt-override-class="{}">
      <div class="bt_bb_column_content"><div class="bt_bb_column_content_inner"><div class="bt_bb_image bt_bb_shape_square bt_bb_align_inherit bt_bb_hover_style_simple bt_bb_content_display_always bt_bb_content_align_middle" data-bt-override-class="null"><span><img src="User/wp-content/uploads/sites/2/2019/11/logo_black.svg" alt="Buddy" class="btLazyLoadImage btLazyLoaded"></span></div><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_normal" data-bt-override-class="null"></div><div class="bt_bb_icon bt_bb_color_scheme_6 bt_bb_style_filled bt_bb_shape_circle bt_bb_size_small bt_bb_align_inherit" style="; --icon-primary-color:#ffffff; --icon-secondary-color:#0CC0DF;" data-bt-override-class="null"><a href="https://twitter.com/bold_themes" target="_blank" data-ico-fontawesome="" class="bt_bb_icon_holder"></a></div><div class="bt_bb_icon bt_bb_color_scheme_6 bt_bb_style_filled bt_bb_shape_circle bt_bb_size_small bt_bb_align_inherit" style="; --icon-primary-color:#ffffff; --icon-secondary-color:#0CC0DF;" data-bt-override-class="null"><a href="https://www.instagram.com/bold_themes/" target="_blank" data-ico-fontawesome="" class="bt_bb_icon_holder"></a></div><div class="bt_bb_icon bt_bb_color_scheme_6 bt_bb_style_filled bt_bb_shape_circle bt_bb_size_small bt_bb_align_inherit" style="; --icon-primary-color:#ffffff; --icon-secondary-color:#0CC0DF;" data-bt-override-class="null"><a href="https://www.facebook.com/boldthemes/" target="_blank" data-ico-fontawesome="" class="bt_bb_icon_holder"></a></div><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_medium" data-bt-override-class="null"></div></div></div></div><div class="bt_bb_column col-xxl-3 col-xl-3 bt_bb_vertical_align_top bt_bb_align_left bt_bb_padding_normal bt_bb_animation_fade_in animate bt_bb_shape_inherit animated" data-width="3" data-bt-override-class="{}"><div class="bt_bb_column_content"><div class="bt_bb_column_content_inner"><header class="bt_bb_headline bt_bb_color_scheme_3 bt_bb_dash_none bt_bb_size_extrasmall bt_bb_align_inherit" style="; --primary-color:#0CC0DF; --secondary-color:#EDCCCD;" data-bt-override-class="{}"><h5 class="bt_bb_headline_tag"><span class="bt_bb_headline_content"><span>About</span></span></h5></header><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_small" data-bt-override-class="null"></div><div class="bt_bb_icon bt_bb_style_borderless bt_bb_shape_circle bt_bb_size_xsmall bt_bb_align_left" data-bt-override-class="null"><span data-ico-dripicons="" class="bt_bb_icon_holder">
        <span>Main: J.P Rizal St. Tawiran, Calapan City</span></span></div><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_small" data-bt-override-class="null"></div>
    <div class="bt_bb_icon bt_bb_style_borderless bt_bb_shape_circle bt_bb_size_xsmall bt_bb_align_left" data-bt-override-class="null"><span data-ico-dripicons="" class="bt_bb_icon_holder"><span>+63 998 868 3908</span></span></div><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_small" data-bt-override-class="null"></div><div class="bt_bb_icon bt_bb_style_borderless bt_bb_shape_circle bt_bb_size_xsmall bt_bb_align_left" data-bt-override-class="null"><span data-ico-dripicons="" class="bt_bb_icon_holder"><span>Thursday - Friday - Sunday: <br><br> 9:00 AM TO 11:00 AM <br><br> 2:00 PM TO 4:00 PM</span></span></div><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_medium" data-bt-override-class="null"></div></div></div></div><div class="bt_bb_column col-xxl-3 col-xl-3 bt_bb_vertical_align_top bt_bb_align_left bt_bb_padding_normal bt_bb_animation_fade_in animate bt_bb_shape_inherit animated" data-width="3" data-bt-override-class="{}"><div class="bt_bb_column_content"><div class="bt_bb_column_content_inner"><header class="bt_bb_headline bt_bb_color_scheme_3 bt_bb_dash_none bt_bb_size_extrasmall bt_bb_align_inherit" style="; --primary-color:#0CC0DF; --secondary-color:#EDCCCD;" data-bt-override-class="{}"><h5 class="bt_bb_headline_tag"><span class="bt_bb_headline_content"><span>Quick Links</span></span></h5></header><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_small" data-bt-override-class="null"></div><div class="bt_bb_custom_menu bt_bb_direction_vertical"><div class="menu-quick-links-container"><ul id="menu-quick-links" class="menu"><li id="menu-item-2555" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2555"><a href="#">Veterinary Services</a></li>
  <li id="menu-item-2556" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2556"><a href="#">Grooming Services</a></li>
  <li id="menu-item-2557" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2557"><a href="#">Bathing Services</a></li>
  <li id="menu-item-2558" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2558"><a href="#">Request an Appointment</a></li>
  </ul></div></div><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_medium" data-bt-override-class="null"></div></div></div></div>
  <div class="bt_bb_column col-xxl-3 col-xl-3 bt_bb_vertical_align_top bt_bb_align_left bt_bb_padding_normal bt_bb_animation_fade_in animate bt_bb_shape_inherit animated" data-width="3" data-bt-override-class="{}"><div class="bt_bb_column_content"><div class="bt_bb_column_content_inner"><header class="bt_bb_headline bt_bb_color_scheme_3 bt_bb_dash_none bt_bb_size_extrasmall bt_bb_align_inherit" style="; --primary-color:#0CC0DF; --secondary-color:#EDCCCD;" data-bt-override-class="{}"><h5 class="bt_bb_headline_tag"><span class="bt_bb_headline_content"><span>Newsletter</span></span></h5></header><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_small" data-bt-override-class="null"></div><div class="bt_bb_contact_form_7">
  <div class="wpcf7 js" id="wpcf7-f1539-p2767-o1" lang="en-US" dir="ltr">
  <div class="screen-reader-response"><p role="status" aria-live="polite" aria-atomic="true"></p> <ul></ul></div>
  <form action="https://pawsitive.bold-themes.com/buddy/#wpcf7-f1539-p2767-o1" method="post" class="wpcf7-form init" aria-label="Contact form" novalidate="novalidate" data-status="init">
  <div style="display: none;">
  <input type="hidden" name="_wpcf7" value="1539">
  <input type="hidden" name="_wpcf7_version" value="5.8.1">
  <input type="hidden" name="_wpcf7_locale" value="en_US">
  <input type="hidden" name="_wpcf7_unit_tag" value="wpcf7-f1539-p2767-o1">
  <input type="hidden" name="_wpcf7_container_post" value="2767">
  <input type="hidden" name="_wpcf7_posted_data_hash" value="">
  <input type="hidden" name="_wpcf7_recaptcha_response" value="">
  </div>
  <div class="btNewsletter">
      <div class="btNewsletterColumn">
          <p><span class="wpcf7-form-control-wrap" data-name="your-email"><input size="40" class="wpcf7-form-control wpcf7-email wpcf7-validates-as-required wpcf7-text wpcf7-validates-as-email" aria-required="true" required aria-invalid="false" placeholder="Your email" value="" type="email" name="your-email"></span>
          </p>
      </div>
      <div class="btNewsletterButton">
          <p><input class="wpcf7-form-control wpcf7-submit has-spinner" type="submit" value="SUBSCRIBE"><span class="wpcf7-spinner"></span>
          </p>
      </div>
  </div><div class="wpcf7-response-output" aria-hidden="true"></div>
  </form>
  </div>
  </div><div class="bt_bb_separator bt_bb_border_style_none bt_bb_bottom_spacing_medium" data-bt-override-class="null"></div></div></div></div></div></div></div></div></div></section></div><footer class="btLightSkin"></footer>
  </div><!-- /btSiteFooter -->
  
  </div><!-- /pageWrap -->
  </body>
  
  
      </template>
  
  <script>
import axios from 'axios';
import jQuery from 'jquery';
import 'jquery-ui';

const $ = jQuery.noConflict();

export default {
  data() {
    return {
      // salesTransactionNumber: null,
      transactions: [],
      checkout: [],
      isSlide2Visible: localStorage.getItem('wizardState') === 'slide2',

      formData: {
        delivering_to: localStorage.getItem('formData_delivering_to') || '',
        address: localStorage.getItem('formData_address') || '',
        additional_details: localStorage.getItem('formData_additional_details') || '',
        driver_instructions: localStorage.getItem('formData_driver_instructions') || '',
        mobile_contact_number: localStorage.getItem('formData_mobile_contact_number') || '',
        payment_method: localStorage.getItem('formData_payment_method') || 'Pay Upon Delivery',
        change_for_how_much: localStorage.getItem('formData_change_for_how_much') || '',
        
      },
    };
  },
  watch: {
    // Watch for changes in formData and save to local storage
    formData: {
      handler(newData) {
      localStorage.setItem('formData_delivering_to', newData.delivering_to);
      localStorage.setItem('formData_address', newData.address);
      localStorage.setItem('formData_additional_details', newData.additional_details);
      localStorage.setItem('formData_driver_instructions', newData.driver_instructions);
      localStorage.setItem('formData_mobile_contact_number', newData.mobile_contact_number);
      localStorage.setItem('formData_change_for_how_much', newData.change_for_how_much);
      localStorage.setItem('formData_payment_method', newData.payment_method);
  
    },
    deep: true,
  },
},
  computed: {
    grandTotalPrice() {
    // Assuming total_price is a numeric value in your checkout data
    const subTotal = this.checkout.length > 0 ? parseFloat(this.checkout[0].total_price) : 0;
    const additionalAmount = 54;

    // Calculate the Grand Total Price
    const grandTotal = subTotal + additionalAmount;

    // Save grandTotalPrice to formData.total_price
    this.formData.total_price = grandTotal.toFixed(2);

    // Return the result
    return grandTotal.toFixed(2); // Adjust to the desired decimal places
  },
  },
  created() {
    // this.salesTransactionNumber = this.generateRandomKey();
    this.getInfo();
    this.getProduct();
  },
  methods: {
    // generateRandomKey() {
    //     const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    //     const length = 8;
    //     let result = '';
    //     for (let i = 0; i < length; i++) {
    //       const randomIndex = Math.floor(Math.random() * characters.length);
    //       result += characters.charAt(randomIndex);
    //     }
    //     return result;
    //   },
    async deleteOrder() {
      
    try {
        if (this.checkout.length > 0) {
            const customerIdToDelete = this.checkout[0].customer_id;

            // Delete all records for the specific customer_id from the server using axios
            await axios.delete(`/api/checkout1/delete/${customerIdToDelete}`);
            console.log(`All records in 'checkout' deleted for customer_id: ${customerIdToDelete}`);

            // Optionally, you can update the local checkout array to reflect the deletion
            this.checkout = [];
            
            console.log('All orders deleted successfully.');
        } else {
            console.warn('No records found in checkout. Nothing to delete.');
        }
     // Optionally, you can manually navigate to the /DeliveryStatus route
     window.location.href = '/Shop';
    } catch (error) {
        console.error('Error placing orders:', error);
        // Handle error accordingly (e.g., display an error message to the user)
    }
},

async submitOrder() {
    try {
        // Extract relevant information from transactions
        const transactionInfo = {
            transaction_no: this.transactions[0].transaction_no,
            // Include other relevant transaction data
        };

        // Save each product in a separate row
        for (const product of this.checkout) {
            // Extract relevant information from the current product
            const productInfo = {
                product_id: product.product_id,
                price: product.unit_price,
                quantity: product.quantity,
                // orderID: this.salesTransactionNumber,
                customer_id: product.customer_id,
                // Include other relevant product data
            };

            // Combine transaction and product information
            const orderData = {
                transactions: transactionInfo,
                products: [productInfo], // Note: Pass each product separately
            };

            // Save the form data to the server for a single product
            await axios.post('/api/publish/save', orderData);

            console.log('Order placed successfully for product:', product.product_id);
            console.log('Order placed successfully for product:', product.unit_price);
            console.log('Order placed successfully for product:', product.quantity);
        }

        // Delete orders for the specific customer ID
        const customerIdToDelete = this.checkout[0].customer_id;
        await axios.delete(`/api/order-history/delete-orders/${customerIdToDelete}`);
        console.log(`Orders deleted successfully for customer ID: ${customerIdToDelete}`);

        console.log('Orders placed successfully.');

        // Optionally, you can manually navigate to the /DeliveryStatus route
        window.location.href = '/DeliveryStatus';
    } catch (error) {
        console.error('Error placing orders:', error);
        // Handle error accordingly (e.g., display an error message to the user)
    }
},
async cancelOrder() {
    try {
        const isConfirmed = window.confirm('Are you sure you want to cancel the order?');

        if (isConfirmed && this.checkout.length > 0) {
            const customerIdToDelete = this.checkout[0].customer_id;

            // Delete all records for the specific customer_id from the server using axios
            await axios.delete(`/api/order-history/delete-orders/${customerIdToDelete}`);
            console.log(`All records in 'checkout' deleted for customer_id: ${customerIdToDelete}`);
            window.location.href = '/Shop';

            // Delete the last inserted record in 'transactions' based on customer_id
            const responseTransaction = await axios.delete(`/api/cancel-order/${customerIdToDelete}/${transactionNoToDelete}`);

            console.log(`Transaction deleted for customer_id: ${customerIdToDelete}`);

            // Optionally, you can update the local checkout and transactions arrays to reflect the deletions
            this.checkout = [];
            this.transactions = [];

        
            console.log('Order cancelled successfully.');
        } else {
            console.warn('Order cancellation aborted or no records found in checkout. Nothing to delete.');
        }
     
    } catch (error) {
        console.error('Error cancelling order:', error);
        // Handle error accordingly (e.g., display an error message to the user)
    }
},
    async getProduct() {
    try {
        const customerId = this.$store.state.userId;
        console.log('Checkout array:', this.checkout);

        // Include the customer_id parameter in the URL
        const response = await axios.get(`getData3/${customerId}?name=true`);

        console.log('Response from getData3:', response.data);

        this.checkout = response.data;
        console.log('Updated checkout:', this.checkout);

        // Access name from the updated checkout
        const name = this.checkout && this.checkout[0] ? this.checkout[0].name : null;
        console.log('Name:', name);

    } catch (error) {
        console.error('Error in getProduct:', error);
    }
},
    async getInfo() {
      try {
        const customerId = this.$store.state.userId;
        console.log(`Fetching transaction data for customer ID: ${customerId}`);

        const inf = await axios.get(`getData2?customer_id=${customerId}`);
        console.log('Response from getData2:', inf.data);

        this.transactions = inf.data.length > 0 ? [inf.data[inf.data.length - 1]] : [];
        console.log('transactions:', this.transactions);
      } catch (error) {
        console.error('Error in getInfo:', error);
      }
    },
    validateSection1() {
      // Check if all required fields in Section 1 have values
      return (
        this.formData.delivering_to &&
        this.formData.address &&
        this.formData.mobile_contact_number
        // Add more conditions if you have additional fields
      );
    },
    async toggleSlideAndSubmit() {
  // Validate Section 1
  console.log('Toggling and submitting...');
  if (!this.validateSection1()) {
    window.alert('Please fill in all required fields before Placing Order');
    return;
  }

  // Toggle the value of isSlide2Visible
  const userConfirmed = window.confirm('Step 1 completed. Do you want to proceed to Step 2?');

  if (!userConfirmed) {
    // If the user clicks "Cancel," stop the process
    return;
  }

  // Update isSlide2Visible to true
  this.isSlide2Visible = true;

  // Save the wizard state to local storage
  localStorage.setItem('wizardState', 'slide2');

  // Hide slide1 when isSlide2Visible is true
  const slide1 = document.getElementById("slide1");
  if (slide1) {
    slide1.style.display = "none";
  }

  this.formData.customer_id = this.$store.state.userId; // Set the value from the store
  console.log('Customer ID from store:', this.$store.state.userId); // Log the customer_id
  console.log('Form Data:', this.formData);

  // Log the data before sending it to the server
  console.log('Sending data to server:', this.formData);

  // Submit the form data
  try {
    await axios.post('/api/transaction/save', this.formData);
    console.log('Data saved successfully.');
  } catch (error) {
    console.error('Error saving data:', error);
  }

  // Trigger the first reload
  window.location.reload();

  // Trigger the second reload
  window.location.reload();
}
,
    logout() {
      sessionStorage.removeItem('token');
      this.$router.push('/login');
    },
    loadScripts() {
      if (this.myObject && this.myObject.content) {
        console.log(this.myObject.content);

        const scriptUrls = [
          '/User/wp-includes/js/jquery/jquery.min3088.js','/User/wp-includes/js/jquery/jquery-migrate.min5589.js','/User/wp-content/plugins/bold-page-builder/slick/slick.min1849.js','/User/wp-content/plugins/bold-page-builder/content_elements_misc/js/jquery.magnific-popup.min1849.js','/User/wp-content/plugins/bold-page-builder/content_elements_misc/js/content_elements1849.js','/User/wp-content/plugins/bt_cost_calculator/jquery.dde35d.js','/User/wp-content/plugins/bt_cost_calculator/cc.maine35d.js','/User/bt_cc_main-js-after.js','/User/js1.js','/User/js2.js','/User/js3.js','/User/js4.js','/User/js5.js','/User/js6.js','/User/js7.js','/User/js8.js','/User/js9.js','/User/js10.js','/User/js11.js','/User/js12.js','/User/wp-content/plugins/contact-form-7/includes/swv/js/indexf658.js','/User/wp-content/plugins/contact-form-7/includes/js/indexf658.js','/User/wp-content/plugins/woocommerce/assets/js/jquery-blockui/jquery.blockUI.minf0ea.js','/User/js13.js','/User/wp-content/plugins/woocommerce/assets/js/frontend/add-to-cart.min2632.js','/User/wp-content/plugins/woocommerce/assets/js/js-cookie/js.cookie.mine1a3.js','/User/js14.js','/User/wp-content/plugins/woocommerce/assets/js/frontend/woocommerce.min2632.js','/User/wp-content/plugins/duracelltomi-google-tag-manager/js/gtm4wp-form-move-tracker7100.js','/User/wp-content/themes/pawsitive/framework/js/fancySelecte35d.js','/User/wp-content/themes/pawsitive/framework/js/header.misce35d.js','/User/wp-content/themes/pawsitive/framework/js/misce35d.js','/User/wp-content/plugins/bold-page-builder/content_elements/bt_bb_section/bt_bb_elementse35d.js','/User/wp-content/themes/pawsitive/bold-page-builder/content_elements/bt_bb_floating_image/bt_bb_floating_imagee35d.js','/User/wp-content/themes/pawsitive/bold-page-builder/content_elements/bt_bb_organic_animation/anime.mine35d.js','/User/wp-content/themes/pawsitive/bold-page-builder/content_elements/bt_bb_organic_animation/maine35d.js','/User/wp-includes/js/jquery/ui/core.min3f14.js','/User/wp-includes/js/jquery/ui/datepicker.min3f14.js','https://code.jquery.com/jquery-3.5.1.slim.min.js','https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js','https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js',
        ];
        // Load jQuery first
        const jqueryScript = document.createElement('script');
        jqueryScript.src = scriptUrls[0]; // Assuming jQuery is the first script
        jqueryScript.async = true;
        jqueryScript.onload = () => {
          console.log('jQuery loaded successfully');
          // Now load other scripts
          scriptUrls.slice(1).forEach(url => {
            const script = document.createElement('script');
            script.src = url;
            script.async = true;
            script.onload = () => {
              console.log(`Script loaded successfully: ${url}`);
            };
            script.onerror = (error) => {
              console.error(`Error loading script: ${url}`, error);
            };

            document.head.appendChild(script);
          });

        };
        jqueryScript.onerror = (error) => {
          console.error('Error loading jQuery', error);
        };
        document.head.appendChild(jqueryScript);
      }
    },
  },
  mounted() {
    console.log('checkout:', this.checkout);
    localStorage.removeItem('wizardState');
    window.onload = () => {
      console.log('Window onload event triggered');
      this.loadScripts();
    };
  },
};
</script>

  
  
      <style>
  @import '../../../src/assets/User/css/style.css';
  @import '../../../src/assets/User/css/raleway-font.css';
  @import '../../../src/assets/User/css/delivery.css';
  @import '../../../src/assets/User/css/style2.css';
  @import '../../../src/assets/User/css/style4.css';
  @import '../../../src/assets/User/css/style5.css';
  @import '../../../src/assets/User/css/style6.css';
  @import '../../../src/assets/User/css/style7.css';
  @import '../../../src/assets/User/css/style8.css';
  @import '../../../src/assets/User/css/style9.css';
  @import '../../../src/assets/User/css/style10.css';
  @import '../../../src/assets/User/css/style13.css';
  @import '../../../src/assets/User/css/style14.css';
  @import '../../../src/assets/User/css/styles.css';
  @import '../../../../frontend/public/User/wp-content/themes/pawsitive/stylee35d.css';
  @import '../../../../frontend/public/User/wp-content/plugins/bold-page-builder/slick/slick1849.css';
  @import '../../../../frontend/public/User/wp-content/plugins/bt_cost_calculator/style.mine35d.css';
  @import '../../../../frontend/public/User/wp-content/plugins/contact-form-7/includes/css/stylesf658.css';
  @import '../../../../frontend/public/User/wp-content/plugins/bold-page-builder/css/front_end/content_elements.crush1849.css';
  </style>

